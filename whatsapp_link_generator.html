<!DOCTYPE html>
<html lang="en">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <head>
    <meta charset="UTF-8">
    <title>WhatsApp number link generator</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  </head>
  <body class="w3-light-green">
    <center>
      <h1 class="w3-text-indigo">WhatsApp number link generator</h1>
      <form action="https://api.whatsapp.com/send" method="GET" target="_blank" name="form_main">
        <br>
        <br>
<p>select your country code</p>
        <select id="code" name="code">
          <option value="91" selected>India (+91)</option>
          <option value="880">Bangladesh (+880)</option>
          <option value="975">Bhutan (+975)</option>
          <option value="86">China (+86)</option>
          <option value="62">Indonesia (+62)</option>
          <option value="977">Nepal (+977)</option>
          <option value="92">Pakistan (+92)</option>
          <option value="63">Philippines (+63)</option>
          <option value="65">Singapore (+65)</option>
          <option value="94">Sri Lanka (+94)</option>
          <option value="66">Thailand (+66)</option>
          <option value="84">Vietnam (+84)</option>
        </select>
        <br>
        <br>
        <label for="phone">Enter your 10 digit phone number</label>
        <input type="tel" name="phone" id="phone" onkeyup="enableDisable(this)" required>
        <br>
        <br>
        <button type="button" class="w3-button w3-blue w3-auto w3-round" disabled onclick="generate()" id="gen">Generate link</button>
        <br>
        <br>
        <textarea readonly placeholder="Your link" id="result"></textarea>
        <br>
        <br>
        <br>
        <button type="button" class="w3-btn w3-purple w3-ripple w3-margin" onclick="copy()">Copy link</button>
        <button type="button" class="w3-btn w3-purple w3-ripple w3-margin" onclick="share()">Share link</button>
        <button type="submit" class="w3-btn w3-purple w3-ripple w3-margin" onclick="openWhatsApp(event)">Direct chat in WhatsApp</button>
      </form>
      <script>
function generate() {
  const num = document.form_main.phone.value.trim();
  const code = document.form_main.code.value;
  
  if (num.length !== 10 || isNaN(num)) {
    alert("Please enter a valid 10 digit phone number");
    return;
  }
  
  const link = "https://wa.me/";
  const result = `${link}${code}${num}`;
  document.getElementById('result').innerText = result;
}

function copy() {
  const result = document.getElementById("result");
  if (!result.value) {
    alert("Please generate the link first.");
    return;
  }
  result.select();
  document.execCommand("copy");
  alert("Link copied to clipboard!");
}

function enableDisable(phone) {
  const btnSubmit = document.getElementById("gen");
  if (phone.value.trim() !== "") {
    btnSubmit.disabled = false;
  } else {
    btnSubmit.disabled = true;
  }
};

function openInWhatsApp() {
  const result = document.getElementById("result");
  if (!result.value) {
    alert("Please generate the link first.");
    return;
  }
  document.form_main.submit();
}

function share() {
  const result = document.getElementById("result").value;
  if (!result) {
    alert("Please generate the link first.");
    return;
  }
  if (navigator.share) {
    navigator.share({
      title: 'Share WhatsApp link',
      url: result
    })
      .then(() => console.log('Link shared successfully'))
      .catch((error) => console.log('Error sharing link:', error));
  } else {
    alert('Web Share API not supported on this browser.');
  }
}
</script>
</body>
</html>