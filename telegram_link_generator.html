<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Telegram Link Generator</title>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>

<body class="w3-light-green">
  <center>
    <h1 class="w3-text-indigo">Telegram Link Generator</h1>
    <form id="form-main">
      <label for="username">Enter your Telegram username without '@' symbol</label>
      <input type="text" name="username" id="username" onkeyup="enableButton()" required>
      <p>Note: Do not include '@' symbol before username and do not include spaces.</p>
      <br>
      <button type="button" class="w3-button w3-blue w3-round" disabled onclick="generateLink()" id="generate-btn">Generate Link</button>
      <br>
      <br>
      <textarea readonly placeholder="Your link here" id="result"></textarea>
      <br>
      <br>
      <button type="button" class="w3-btn w3-blue w3-ripple w3-margin" onclick="copyLink()">Copy Link</button>
      <button type="button" class="w3-btn w3-blue w3-ripple w3-margin" onclick="shareLink()">Share Link</button>
      <button type="button" class="w3-btn w3-blue w3-ripple w3-margin" onclick="openLink()">Open Link</button>
    </form>
  </center>

  <script>
    function generateLink() {
      let username = document.getElementById("username").value.trim();
      let link = `https://telegram.me/${username}`;

      if (username === "") {
        alert("Please enter a valid username.");
        return;
      }

      document.getElementById("result").value = link;
      enableButton("copy-btn");
    }

    function copyLink() {
      let link = document.getElementById("result");

      link.select();
      document.execCommand("copy");
      alert("Copied successfully!");
    }

    async function shareLink() {
      let link = document.getElementById("result").value.trim();

      if (link === "") {
        alert("Please generate a link before sharing.");
        return;
      }

      try {
        await navigator.share({
          title: "Telegram Link",
          text: "Check out my Telegram profile!",
          url: link,
        });
      } catch (error) {
        console.error("Error sharing link:", error);
      }
    }

    function openLink() {
      let link = document.getElementById("result").value.trim();

      if (link === "") {
        alert("Please generate a link before opening.");
        return;
      }

      window.open(link, "_blank");
    }

    function enableButton(buttonId) {
      let button = document.getElementById(buttonId || "generate-btn");
      let username = document.getElementById("username").value.trim();

      button.disabled = username === "";
    }
  </script>
</body>
</html>
